{"version":3,"sources":["navigation.js"],"names":["openNav","body","classList","add","openBtn","setAttribute","menu","closeNav","remove","createOverlay","overlay","insertAdjacentElement","addEventListener","destroyOverlay","toggleFocus","self","this","className","indexOf","tagName","toLowerCase","replace","parentElement","document","querySelector","getElementById","createElement","menuContent","insertAdjacentHTML","closeBtn","window","screen","width","height","Math","max","documentElement","clientHeight","innerHeight","style","links","getElementsByTagName","subMenus","i","len","length","parentNode"],"mappings":"cAMA,WA6BC,SAASA,IACRC,EAAKC,UAAUC,IAAI,gBACnBC,EAAQC,aAAa,gBAAiB,QACtCC,EAAKD,aAAa,gBAAiB,QAKpC,SAASE,IACRN,EAAKC,UAAUM,OAAO,gBACtBJ,EAAQC,aAAa,gBAAiB,SACtCC,EAAKD,aAAa,gBAAiB,SAKpC,SAASI,IACRC,EAAQR,UAAUC,IAAI,sBACtBG,EAAKK,sBAAsB,WAAYD,GACvCA,EAAQE,iBAAiB,SAAS,WACjCC,IACAN,OAIF,SAASM,IACRH,EAAQF,SAqBT,SAASM,IAIR,IAHA,IAAIC,EAAOC,MAGoC,IAAxCD,EAAKE,UAAUC,QAAQ,aAEM,OAA/BH,EAAKI,QAAQC,iBACyB,IAArCL,EAAKE,UAAUC,QAAQ,SAC1BH,EAAKE,UAAYF,EAAKE,UAAUI,QAAQ,SAAU,IAElDN,EAAKE,WAAa,UAIpBF,EAAOA,EAAKO,cAzFd,IAAIrB,EAAOsB,SAASC,cAAc,QAC9BpB,EAAUmB,SAASE,eAAe,eAClCf,EAAUa,SAASG,cAAc,OACjCpB,EAAOiB,SAASE,eAAe,qBAC/BE,EAAcrB,EAAKkB,cAAc,kCACzBI,mBAAmB,YAAa,gCAC5C,IAAIC,EAAWN,SAASE,eAAe,cAiBvC,GAdArB,EAAQQ,iBAAiB,SAAS,WACjCH,IACAT,OAGD6B,EAASjB,iBAAiB,SAAS,WAClCC,IACAN,OAGGuB,OAAOC,OAAOC,MAAQ,MACzBnB,IAGGiB,OAAOC,OAAOC,MAAQ,KAAM,CAC/B,IAAMC,EAASC,KAAKC,IAAIZ,SAASa,gBAAgBC,aAAcP,OAAOQ,aAAe,GACrFhC,EAAKiC,MAAM,cAAgBN,EAAS,KAqCrC,IAJA,IAAIO,EAAQlC,EAAKmC,qBAAqB,KAClCC,EAAWpC,EAAKmC,qBAAqB,MAGhCE,EAAI,EAAGC,EAAMF,EAASG,OAAQF,EAAIC,EAAKD,IAC/CD,EAASC,GAAGG,WAAWzC,aAAa,gBAAiB,QAItD,IAAKsC,EAAI,EAAGC,EAAMJ,EAAMK,OAAQF,EAAIC,EAAKD,IACxCH,EAAMG,GAAG/B,iBAAiB,QAASE,GAAa,GAChD0B,EAAMG,GAAG/B,iBAAiB,OAAQE,GAAa,GAtEjD","sourcesContent":["/**\n * navigation.js\n *\n * Handles toggling the navigation menu for small screens and enables tab\n * support for dropdown menus.\n */\n(function () {\n\tvar body = document.querySelector('body');\n\tvar openBtn = document.getElementById('menu-toggle');\n\tvar overlay = document.createElement('div');\n\tvar menu = document.getElementById('primary-menu-wrap');\n\tvar menuContent = menu.querySelector('#primary-menu > .content-width');\n\tmenuContent.insertAdjacentHTML('beforeend', '<div id=\"menu-close\">â•³</div>'); // Insert Close btn\n\tvar closeBtn = document.getElementById('menu-close');\n\n\t// Open/close mobile menu\n\topenBtn.addEventListener('click', () => {\n\t\tcreateOverlay();\n\t\topenNav();\n\t});\n\n\tcloseBtn.addEventListener('click', () => {\n\t\tdestroyOverlay();\n\t\tcloseNav();\n\t});\n\n\tif (window.screen.width > 1024) {\n\t\tdestroyOverlay();\n\t}\n\n\tif (window.screen.width < 1024) {\n\t\tconst height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\t\tmenu.style['min-height'] = height + 'px';\n\t}\n\n\tfunction openNav() {\n\t\tbody.classList.add('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'true');\n\t\tmenu.setAttribute('aria-expanded', 'true');\n\t\t// bodyScrollLock.disableBodyScroll(menu);\n\t\treturn;\n\t}\n\n\tfunction closeNav() {\n\t\tbody.classList.remove('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'false');\n\t\tmenu.setAttribute('aria-expanded', 'false');\n\t\t// bodyScrollLock.enableBodyScroll(menu);\n\t\treturn;\n\t}\n\n\tfunction createOverlay() {\n\t\toverlay.classList.add('mobile-nav-overlay');\n\t\tmenu.insertAdjacentElement('afterend', overlay);\n\t\toverlay.addEventListener('click', () => {\n\t\t\tdestroyOverlay();\n\t\t\tcloseNav();\n\t\t});\n\t}\n\n\tfunction destroyOverlay() {\n\t\toverlay.remove();\n\t}\n\n\t// Get all the link elements within the menu.\n\tvar links = menu.getElementsByTagName('a')\n\tvar subMenus = menu.getElementsByTagName('ul')\n\n\t// Set menu items with submenus to aria-haspopup=\"true\".\n\tfor (var i = 0, len = subMenus.length; i < len; i++) {\n\t\tsubMenus[i].parentNode.setAttribute('aria-haspopup', 'true')\n\t}\n\n\t// Each time a menu link is focused or blurred, toggle focus.\n\tfor (i = 0, len = links.length; i < len; i++) {\n\t\tlinks[i].addEventListener('focus', toggleFocus, true)\n\t\tlinks[i].addEventListener('blur', toggleFocus, true)\n\t}\n\n\t/**\n\t * Sets or removes .focus class on an element.\n\t */\n\tfunction toggleFocus() {\n\t\tvar self = this\n\n\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\twhile (self.className.indexOf('nav-menu') === -1) {\n\t\t\t// On li elements toggle the class .focus.\n\t\t\tif (self.tagName.toLowerCase() === 'li') {\n\t\t\t\tif (self.className.indexOf('focus') !== -1) {\n\t\t\t\t\tself.className = self.className.replace(' focus', '')\n\t\t\t\t} else {\n\t\t\t\t\tself.className += ' focus'\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself = self.parentElement\n\t\t}\n\t}\n\n})();"]}