{"version":3,"sources":["navigation.js"],"names":["openNav","body","classList","add","openBtn","setAttribute","menu","closeNav","remove","toggleFocus","self","this","className","indexOf","tagName","toLowerCase","replace","parentElement","document","querySelector","getElementById","overlay","menuContent","insertAdjacentHTML","closeBtn","addEventListener","links","getElementsByTagName","subMenus","i","len","length","parentNode"],"mappings":"cAMA,WAkBC,SAASA,IACRC,EAAKC,UAAUC,IAAI,gBACnBC,EAAQC,aAAa,gBAAiB,QACtCC,EAAKD,aAAa,gBAAiB,QAIpC,SAASE,IACRN,EAAKC,UAAUM,OAAO,gBACtBJ,EAAQC,aAAa,gBAAiB,SACtCC,EAAKD,aAAa,gBAAiB,SA4BpC,SAASI,IAIR,IAHA,IAAIC,EAAOC,MAGoC,IAAxCD,EAAKE,UAAUC,QAAQ,aAEM,OAA/BH,EAAKI,QAAQC,iBACyB,IAArCL,EAAKE,UAAUC,QAAQ,SAC1BH,EAAKE,UAAYF,EAAKE,UAAUI,QAAQ,SAAU,IAElDN,EAAKE,WAAa,UAIrBF,EAAOA,EAAKO,cArEb,IAAIhB,EAAOiB,SAASC,cAAc,QAC9Bf,EAAUc,SAASE,eAAe,eAClCC,EAAUH,SAASC,cAAc,uBACjCb,EAAOY,SAASE,eAAe,qBAC/BE,EAAchB,EAAKa,cAAc,kCACzBI,mBAAmB,YAAa,gCAC5C,IAAIC,EAAWN,SAASE,eAAe,cAGvChB,EAAQqB,iBAAiB,QAAS,WACjCzB,MAGDwB,EAASC,iBAAiB,QAAS,WAClClB,MAiBDc,EAAQI,iBAAiB,QAAS,WACjCxB,EAAKC,UAAUM,OAAO,gBACtBJ,EAAQC,aAAa,gBAAiB,SACtCC,EAAKD,aAAa,gBAAiB,WAQpC,IAJA,IAAIqB,EAAQpB,EAAKqB,qBAAqB,KAClCC,EAAWtB,EAAKqB,qBAAqB,MAGhCE,EAAI,EAAGC,EAAMF,EAASG,OAAQF,EAAIC,EAAKD,IAC/CD,EAASC,GAAGG,WAAW3B,aAAa,gBAAiB,QAItD,IAAKwB,EAAI,EAAGC,EAAMJ,EAAMK,OAAQF,EAAIC,EAAKD,IACxCH,EAAMG,GAAGJ,iBAAiB,QAAShB,GAAa,GAChDiB,EAAMG,GAAGJ,iBAAiB,OAAQhB,GAAa,GAlDjD","sourcesContent":["/**\n * navigation.js\n *\n * Handles toggling the navigation menu for small screens and enables tab\n * support for dropdown menus.\n */\n(function () {\n\tvar body = document.querySelector('body');\n\tvar openBtn = document.getElementById('menu-toggle');\n\tvar overlay = document.querySelector('.mobile-nav-overlay');\n\tvar menu = document.getElementById('primary-menu-wrap');\n\tvar menuContent = menu.querySelector('#primary-menu > .content-width');\n\tmenuContent.insertAdjacentHTML('beforeend', '<div id=\"menu-close\">â•³</div>'); // Insert Close btn\n\tvar closeBtn = document.getElementById('menu-close');\n\n\t// Open/close mobile menu\n\topenBtn.addEventListener('click', () => {\n\t\topenNav();\n\t});\n\t\n\tcloseBtn.addEventListener('click', () => {\n\t\tcloseNav();\n\t});\n\t\n\tfunction openNav() {\n\t\tbody.classList.add('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'true');\n\t\tmenu.setAttribute('aria-expanded', 'true');\n\t\treturn;\n\t}\n\t\n\tfunction closeNav() {\n\t\tbody.classList.remove('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'false');\n\t\tmenu.setAttribute('aria-expanded', 'false');\n\t\treturn;\n\t}\n\t\n\toverlay.addEventListener('click', () => {\n\t\tbody.classList.remove('menu--active');\n\t\topenBtn.setAttribute('aria-expanded', 'false');\n\t\tmenu.setAttribute('aria-expanded', 'false');\n\t});\n\n\t// Get all the link elements within the menu.\n\tvar links = menu.getElementsByTagName('a')\n\tvar subMenus = menu.getElementsByTagName('ul')\n\n\t// Set menu items with submenus to aria-haspopup=\"true\".\n\tfor (var i = 0, len = subMenus.length; i < len; i++) {\n\t\tsubMenus[i].parentNode.setAttribute('aria-haspopup', 'true')\n\t}\n\n\t// Each time a menu link is focused or blurred, toggle focus.\n\tfor (i = 0, len = links.length; i < len; i++) {\n\t\tlinks[i].addEventListener('focus', toggleFocus, true)\n\t\tlinks[i].addEventListener('blur', toggleFocus, true)\n\t}\n\n\t/**\n\t * Sets or removes .focus class on an element.\n\t */\n\tfunction toggleFocus () {\n\t\tvar self = this\n\n\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\twhile (self.className.indexOf('nav-menu') === -1) {\n\t\t\t// On li elements toggle the class .focus.\n\t\t\tif (self.tagName.toLowerCase() === 'li') {\n\t\t\t\tif (self.className.indexOf('focus') !== -1) {\n\t\t\t\t\tself.className = self.className.replace(' focus', '')\n\t\t\t\t} else {\n\t\t\t\t\tself.className += ' focus'\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\tself = self.parentElement\n\t\t}\n\t}\n\t\n})();"]}